<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-166636241-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-166636241-1');
</script>

    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KD6XTQC');</script>
<!-- End Google Tag Manager -->



</head>

<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KD6XTQC"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
</body>


<!-- CSS only -->




<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">


<div class="col-sm-3">
        <label for="crypto">SELECT CRYPTO</label>
        <select class="form-control"  id="crypto" onchange="getchartdetails(this.value)">
            <option value="">select crypto</option>
        </select>
    </div>

<!-- JS, Popper.js, and jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


<script src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.js'></script>

 <script> function getcryptocurrency() {

       $.ajax({
                type: "POST",
                url: '/home/crpt',
                traditional: true,
                contentType: 'application/json; charset=utf-8',
                data: JSON.stringify({}),
                success: function (response) {
                console.log(response)
                response = JSON.parse(response)

                if (response != undefined || response[0] != null) {
                    for (var i = 0; i < response.length; i++) {
                        var crypt = response[i];
                        $("#crypto").append("<option value=" + crypt + ">" + crypt + "</option>")


                    }
                }
            }
        });
        }
     getcryptocurrency();



     function getchartdetails(data) {
       var details = {data : data}
       $.ajax({
                type: "POST",
                url: '/home/chart',
                traditional: true,
                contentType: 'application/json; charset=utf-8',
                data: JSON.stringify(details),
                success: function (response) {
                console.log(response)
                response = JSON.parse(response)


              }
        });
        }

</script>

<script>
  (function() {

    // Change the CSS selector in the parenthesis to match your select menu
    var selectMenu = document.getElementById("crypto");

    var callback = function(e) {
      var selectedOption = e.target.options[e.target.selectedIndex];
      window.dataLayer.push({
        event: 'selectionMade',
        selectedElement: selectedOption
      });
    };

    selectMenu.addEventListener('change', callback, true);
  })();
</script>

